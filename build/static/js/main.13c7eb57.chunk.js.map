{"version":3,"sources":["logo.svg","App.js","components/Login.js","components/Register.js","index.js"],"names":["module","exports","__webpack_require__","p","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","logout","localStorage","removeItem","window","location","reload","state","books","_this2","axios","defaults","headers","common","getItem","get","then","res","setState","data","console","log","catch","error","response","status","history","push","react_default","a","createElement","class","onClick","map","book","title","author","Component","Login","onChange","e","target","name","value","onSubmit","preventDefault","_this$state","username","password","post","result","setItem","token","message","_this$state2","role","for","type","placeholder","required","react_router_dom","to","Register","ReactDOM","render","react_router","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.13c7eb57.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React,{ Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\n\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      books:[]\n    }\n  }\n  componentDidMount(){\n    axios.defaults.headers.common['Authorization']=localStorage.getItem('jwtToken');\n    axios.get('/api/book')\n    .then(res => {\n      this.setState({books:res.data})\n      console.log(this.state.books)\n    })\n    .catch((error) => {\n      if(error.response.status === 401){\n        this.props.history.push('/login')\n      }\n    });\n  }\n  logout = () => {\n    localStorage.removeItem('jwtToken')\n    window.location.reload();\n  }\n  render(){\n    return(\n      <div class=\"container\">\n        <div class=\"panel panel-default\">\n          <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">\n              BOOK CATALOG &nbsp;\n              {\n                localStorage.getItem('jwtToken')&&\n                <button class=\"btn btn-primary\" onClick={this.logout}>\n                  Logout\n                </button>\n              }\n              </h3>\n          </div>\n          <div class=\"panel-body\">\n            <table class=\"table table-stripe\">\n              <thead>\n                <tr>\n                  <th>Title</th>\n                  <th>Author</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.books.map(book => \n                  <tr>\n                    <td>{book.title} </td>\n                    <td>{book.author} </td>    \n                  </tr>\n                 )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React,{ Component } from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './Login.css';\r\n\r\nclass Login extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:'',\r\n            password:'',\r\n            message:''\r\n        };\r\n    }\r\n\r\n    onChange = (e) => {\r\n       const state=this.state;\r\n       state[e.target.name]=e.target.value;\r\n       this.setState(state);\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n         e.preventDefault();\r\n\r\n         const{username,password}=this.state;\r\n         axios.post('/api/auth/login',{username,password})\r\n         .then((result) => {\r\n             localStorage.setItem('jwtToken',result.data.token);\r\n             this.setState({message:''});\r\n             this.props.history.push('/')\r\n         })\r\n         .catch((error) => {\r\n             if(error.response.status === 401){\r\n                 this.setState({message: 'Login Failed.You are not authorized.'})\r\n             }\r\n         });\r\n    }\r\n\r\n    render(){\r\n        const{username,password,message}=this.state;\r\n        return(\r\n            <div class=\"container\">\r\n                <form class=\"form-signin\" onSubmit={this.onSubmit}>\r\n                    {message !== '' && \r\n                    <div class=\"alert alert-warning alert-dismissible \" role=\"alert\">\r\n                        {message}\r\n                    </div>\r\n                }\r\n                    <h2 class=\"form-signin-heading\">Please Login In</h2>\r\n                    <label for=\"inputEmail\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"email\" class=\"form-control\" placeholder=\"Enter Email Address\" name=\"username\" value={username} onChange={this.onChange} required></input>\r\n                    <label for=\"inputPassword\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"password\" class=\"form-control\" placeholder=\"Enter Password\" name=\"password\" value={password} onChange={this.onChange} required></input>\r\n                    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Login</button>\r\n                    <p>\r\n                        Not a member?\r\n                        <Link to=\"/register\">Register</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React,{ Component } from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './Login.css';\r\n\r\nclass Register extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:'',\r\n            password:''    \r\n        };\r\n    }\r\n\r\n\r\nonChange = (e) => {\r\n    const state=this.state;\r\n    state[e.target.name]=e.target.value;\r\n    this.setState(state);\r\n }\r\n\r\n onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const{username,password}=this.state;\r\n    axios.post('/api/auth/register',{username,password})\r\n    .then((result) => {\r\n        this.props.history.push('/login')\r\n    })\r\n    \r\n    }\r\n\r\n    render(){\r\n        const{username,password,message}=this.state;\r\n        return(\r\n            <div class=\"container\">\r\n                <form class=\"form-signin\" onSubmit={this.onSubmit}>\r\n                    <h2 class=\"form-signin-heading\">Please Register</h2>\r\n                    <label for=\"inputEmail\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"email\" class=\"form-control\" placeholder=\"Enter Email Address\" name=\"username\" value={username} onChange={this.onChange} required></input>\r\n                    <label for=\"inputPassword\" class=\"sr-only\">Email Address</label>\r\n                    <input type=\"password\" class=\"form-control\" placeholder=\"Enter Password\" name=\"password\" value={password} onChange={this.onChange} required></input>\r\n                    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Register</button>\r\n                    \r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default Register;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { BrowserRouter as Router,Route } from \"react-router-dom\";\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport App from './App';\n//import registerServiceWorker from './registerServiceWorker';\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\n\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n<Router>\n    <div>\n        <Route exact path='/' component={App} />\n        <Route  path='/login' component={Login} />\n        <Route  path='/register' component={Register} />\n    </div>\n</Router>,\n document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n//registerServiceWorker();"],"sourceRoot":""}